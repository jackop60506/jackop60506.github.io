<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Filament 後台框架互動式演示</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* 自定義 Tailwind 配置 */
        :root {
            font-family: 'Inter', sans-serif;
        }
        .text-section {
            line-height: 1.8;
        }
        .highlight {
            font-weight: 700;
            color: #3b82f6; /* Tailwind blue-500 */
        }
        .content-box {
            min-height: 400px;
        }
        /* Hide scrollbar for the sidebar */
        .sidebar::-webkit-scrollbar {
            display: none;
        }
        .sidebar {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .content-area {
                padding: 1rem;
            }
            .nav-item {
                padding: 0.75rem 0.5rem;
                font-size: 0.875rem;
            }
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">
    <!-- Header with Progress Bar and Title -->
    <header class="sticky top-0 z-10 bg-white shadow-md">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3">
            <h1 id="main-title" class="text-xl md:text-2xl font-extrabold text-gray-900 transition-opacity duration-300">
                Filament 後台框架介紹
            </h1>
            <!-- Progress Bar -->
            <div class="mt-2 h-2 bg-gray-200 rounded-full overflow-hidden">
                <div id="progress-bar" class="h-full bg-blue-500 transition-all duration-500 ease-in-out" style="width: 0%;"></div>
            </div>
        </div>
    </header>

    <div class="max-w-7xl mx-auto flex flex-col md:flex-row min-h-screen">

        <!-- Sidebar Navigation (TOC) -->
        <aside class="w-full md:w-1/4 bg-gray-100 p-4 border-r border-gray-200 shadow-lg md:shadow-none overflow-y-auto sidebar max-h-screen">
            <h2 class="text-lg font-bold mb-4 text-gray-700 hidden md:block">目錄導覽</h2>
            <nav id="sidebar-nav" class="space-y-2"></nav>
        </aside>

        <!-- Main Content Area -->
        <main class="w-full md:w-3/4 p-6 md:p-10 content-area">
            
            <!-- Current Page Title -->
            <h2 id="page-title" class="text-3xl font-bold mb-6 text-gray-900"></h2>

            <!-- Current Page Content -->
            <div id="page-content" class="bg-white p-6 rounded-xl shadow-lg content-box text-section">
                <!-- Content will be injected here -->
            </div>

            <!-- Navigation Buttons -->
            <div class="mt-8 flex justify-between items-center">
                <button id="prev-btn" onclick="prevPage()" class="px-6 py-3 bg-gray-300 text-gray-800 rounded-lg shadow-md hover:bg-gray-400 transition duration-150 disabled:opacity-50 disabled:cursor-not-allowed font-semibold">
                    &larr; 上一頁
                </button>
                <span id="page-counter" class="text-sm font-medium text-gray-600">頁數：1 / 11</span>
                <button id="next-btn" onclick="nextPage()" class="px-6 py-3 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 transition duration-150 disabled:opacity-50 disabled:cursor-not-allowed font-semibold">
                    下一頁 &rarr;
                </button>
            </div>
        </main>
    </div>

    <script>
        const contentData = [
            { 
                title: "1. 介紹：什麼是 Filament？", 
                content: `
                    <p class="mb-4">Filament 是一個基於 <span class="highlight">Livewire</span> 的後台框架，專為 Laravel 生態系統設計。</p>
                    <p class="mb-4">它的核心目的是讓 Laravel 開發者能夠以極高的效率構建美觀、功能完善的管理後台介面。</p>
                    <p class="text-sm italic text-gray-500">（注意：Livewire 是 Laravel 官方套件，但 Filament 本身是由社區開發並維護的優秀專案。）</p>
                `,
                section: "解釋 (5成)"
            },
            { 
                title: "2. 為什麼選擇 Filament？(1/3)", 
                content: `
                    <h3 class="text-2xl font-semibold mb-3 text-blue-600">解決大量重複性工作</h3>
                    <p class="mb-4">Filament 解決了後台系統中大量重複性的 <span class="highlight">CRUD</span>（Create, Read, Update, Delete - 新增、讀取、更新、刪除）和 <span class="highlight">Table</span>（表格）功能。</p>
                    <p>您可以專注於業務邏輯，而不是重複撰寫表格篩選、分頁、排序和表單驗證等樣板代碼。</p>
                `,
                section: "解釋 (5成)"
            },
            { 
                title: "3. 為什麼選擇 Filament？(2/3)", 
                content: `
                    <h3 class="text-2xl font-semibold mb-3 text-blue-600">極低的客製化門檻</h3>
                    <p class="mb-4">在大多數情況下，您幾乎不需要手動實作 <span class="highlight">JavaScript</span> 或 <span class="highlight">Blade 模板切版</span> 的需求。</p>
                    <p>Filament 提供了豐富的 PHP 抽象層，讓您用 PHP 程式碼來描述您的介面應有的樣子。</p>
                `,
                section: "解釋 (5成)"
            },
            { 
                title: "4. 為什麼選擇 Filament？(3/3)", 
                content: `
                    <h3 class="text-2xl font-semibold mb-3 text-blue-600">豐富的生態系統</h3>
                    <p class="mb-4">官方與社區提供了一部分的 <span class="highlight">Plugin (外掛)</span>，例如日曆、設定管理等，可以讓您輕鬆地擴展後台功能。</p>
                `,
                section: "解釋 (5成)"
            },
            { 
                title: "5. 注意事項：若牽涉到「客製化」", 
                content: `
                    <p class="mb-4">Filament 雖然有一定程度的彈性延伸開發，但若您需要極度客製化的元件或操作，您需要掌握其底層技術：</p>
                    <ul class="list-disc pl-6 space-y-2">
                        <li>理解 <span class="highlight">Livewire</span>：這是 Filament 的核心基礎。</li>
                        <li>理解 <span class="highlight">Alpine.js</span>：用於處理前端的輕量級響應式邏輯。</li>
                    </ul>
                `,
                section: "解釋 (5成)"
            },
            { 
                title: "6. 注意事項：底層技術概念", 
                content: `
                    <h3 class="text-2xl font-semibold mb-3 text-blue-600">深入客製化開發所需概念</h3>
                    <ul class="list-disc pl-6 space-y-3">
                        <li>
                            <strong class="highlight">客製化「前端」邏輯：</strong> 需要深入理解 <span class="highlight">Livewire 生命週期</span> 才能開發複雜的互動。
                        </li>
                        <li>
                            <strong class="highlight">客製化元件 (Component/Widget)：</strong> 需要理解 <span class="highlight">Alpine.js</span> 與 <span class="highlight">Blade</span> 開發的基本概念來構建新的 UI 區塊。
                        </li>
                    </ul>
                `,
                section: "解釋 (5成)"
            },
            { 
                title: "7. 核心理念：Server-Driven UI (SDUI)", 
                content: `
                    <p class="mb-4">Filament 的核心理念是：<span class="highlight">Server-Driven UI (SDUI)</span>。</p>
                    <blockquote class="border-l-4 border-blue-500 pl-4 py-2 my-4 bg-blue-50 rounded-r-lg">
                        <p class="italic">您在伺服器端（Laravel/PHP）定義 UI 的結構和行為，而不是在客戶端（JavaScript/Vue/React）定義。</p>
                    </blockquote>
                    <p>這大大簡化了前後端狀態同步的複雜性。</p>
                `,
                section: "演示 (5成)"
            },
            { 
                title: "8. 基本使用方法：架構概覽", 
                content: `
                    <h3 class="text-2xl font-semibold mb-3 text-blue-600">Filament 的基本建構區塊</h3>
                    <ul class="list-disc pl-6 space-y-2">
                        <li><span class="highlight">Provider:</span> 服務提供者，負責註冊和配置整個後台面板。</li>
                        <li><span class="highlight">Resource:</span> 資源，對應一個 Eloquent Model，負責定義 CRUD 相關的頁面和表格。</li>
                        <li><span class="highlight">Page:</span> 頁面，用於自定義不需要 Resource 的特定功能頁面。</li>
                        <li><span class="highlight">Widget:</span> 小工具，在儀表板或頁面中顯示小型資訊區塊。</li>
                        <li><span class="highlight">Form/Table:</span> 表單/表格，Filament 的核心建構器，用於定義數據的輸入和顯示方式。</li>
                    </ul>
                `,
                section: "演示 (5成)"
            },
            { 
                title: "9. 演示：情境一 (Vue + Laravel API)", 
                content: `
                    <h3 class="text-2xl font-semibold mb-3 text-blue-600">傳統方案 (前後端分離)</h3>
                    <ul class="list-disc pl-6 space-y-2">
                        <li><strong>前端：</strong> 獨立的 Vue/React 專案，負責所有 UI 介面。</li>
                        <li><strong>後端：</strong> Laravel API 專案，提供 RESTful 接口。</li>
                        <li><strong>開發後台：</strong> 需在前端重複投入大量時間建構介面、處理狀態、手動撰寫 CRUD 邏輯。</li>
                    </ul>
                    <p class="mt-4 italic text-red-600">❌ 後台介面開發成本高，狀態同步複雜。</p>
                `,
                section: "演示 (5成)"
            },
            { 
                title: "10. 演示：情境二 (Blade + JS)", 
                content: `
                    <h3 class="text-2xl font-semibold mb-3 text-blue-600">傳統 Laravel 方案 (Blade)</h3>
                    <ul class="list-disc pl-6 space-y-2">
                        <li><strong>架構：</strong> 使用 Blade 模板進行切版，搭配 Vanilla JS 或 jQuery 處理互動。</li>
                        <li><strong>優點：</strong> 單一 Laravel 專案，部署簡單。</li>
                        <li><strong>挑戰：</strong> 處理複雜的互動式表格（如即時篩選、AJAX 更新）時，JavaScript 程式碼會變得龐大且難以維護。</li>
                    </ul>
                    <p class="mt-4 italic text-red-600">❌ 複雜互動的維護性較差，開發速度仍受切版影響。</p>
                `,
                section: "演示 (5成)"
            },
            { 
                title: "11. 演示：情境三 (Filament)", 
                content: `
                    <h3 class="text-2xl font-semibold mb-3 text-blue-600">Filament 方案 (訂單管理 CRUD)</h3>
                    <p class="mb-4">通過 Filament，您只需透過 PHP 撰寫少量的組態和邏輯，例如：</p>
                    <pre class="bg-gray-800 text-white p-4 rounded-lg overflow-x-auto text-sm my-4">
// 在 OrderResource.php 中定義
public static function table(Table \$table): Table
{
    return \$table
        ->columns([
            Tables\Columns\TextColumn::make('customer.name')->searchable(),
            Tables\Columns\TextColumn::make('amount')->money('TWD'),
            Tables\Columns\TextColumn::make('status')->badge(),
        ])
        // ... 自動擁有排序、篩選、分頁功能
}
                    </pre>
                    <p class="mt-4 italic text-green-600">✅ <span class="highlight">極大地提高開發效率</span>，自動產生功能完善的訂單管理 CRUD 表格和內頁。</p>
                `,
                section: "演示 (5成)"
            }
        ];

        let currentPageIndex = 0;
        const totalPages = contentData.length;

        const progressBar = document.getElementById('progress-bar');
        const pageTitle = document.getElementById('page-title');
        const pageContent = document.getElementById('page-content');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const pageCounter = document.getElementById('page-counter');
        const sidebarNav = document.getElementById('sidebar-nav');

        // --- Core Functions ---

        function renderPage() {
            const data = contentData[currentPageIndex];

            // 1. Update Title and Content
            pageTitle.textContent = data.title;
            pageContent.innerHTML = data.content;

            // 2. Update Progress Bar
            const progress = ((currentPageIndex + 1) / totalPages) * 100;
            progressBar.style.width = `${progress}%`;

            // 3. Update Navigation Buttons
            prevBtn.disabled = currentPageIndex === 0;
            nextBtn.disabled = currentPageIndex === totalPages - 1;

            // 4. Update Page Counter
            pageCounter.textContent = `頁數：${currentPageIndex + 1} / ${totalPages}`;

            // 5. Update Sidebar Active State
            document.querySelectorAll('.nav-item').forEach((item, index) => {
                if (index === currentPageIndex) {
                    item.classList.add('bg-blue-200', 'text-blue-800', 'font-bold');
                    item.classList.remove('text-gray-700', 'hover:bg-gray-200');
                    // Scroll active item into view (optional)
                    item.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                } else {
                    item.classList.remove('bg-blue-200', 'text-blue-800', 'font-bold');
                    item.classList.add('text-gray-700', 'hover:bg-gray-200');
                }
            });
            
            // Scroll to top of content area on page change
            pageTitle.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        function nextPage() {
            if (currentPageIndex < totalPages - 1) {
                currentPageIndex++;
                renderPage();
            }
        }

        function prevPage() {
            if (currentPageIndex > 0) {
                currentPageIndex--;
                renderPage();
            }
        }

        function goToPage(index) {
            currentPageIndex = index;
            renderPage();
        }

        // --- Initial Setup ---

        function initializeSidebar() {
            let currentSection = '';
            contentData.forEach((item, index) => {
                // Add Section Separator if section changes
                if (item.section !== currentSection) {
                    const sectionHeader = document.createElement('h3');
                    sectionHeader.className = 'text-sm font-bold uppercase text-gray-500 mt-4 mb-2 border-b border-gray-300 pb-1';
                    sectionHeader.textContent = item.section;
                    sidebarNav.appendChild(sectionHeader);
                    currentSection = item.section;
                }

                // Add Nav Item
                const navItem = document.createElement('a');
                navItem.href = '#';
                navItem.className = 'nav-item block p-2 rounded-lg transition duration-150 ease-in-out text-gray-700 hover:bg-gray-200 text-sm md:text-base';
                navItem.textContent = item.title;
                navItem.onclick = (e) => {
                    e.preventDefault();
                    goToPage(index);
                };
                sidebarNav.appendChild(navItem);
            });
        }

        // Run initialization and initial render
        window.onload = () => {
            initializeSidebar();
            renderPage();
        };

        // Add keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') {
                nextPage();
            } else if (e.key === 'ArrowLeft') {
                prevPage();
            }
        });
    </script>
</body>
</html>
